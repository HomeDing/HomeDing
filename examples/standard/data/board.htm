<!doctype html><html lang='en'><head><meta charset='utf-8'><meta name='viewport'content='width=device-width,initial-scale=1'><title>Board</title><link rel='icon'type='image/png'href='/favicon48.png'sizes='48x48'><meta name='application-name'content='Ding'><meta name='msapplication-config'content='/browserconfig.xml'><meta name='msapplication-TileColor'content='#2b5797'><meta name='msapplication-TileImage'content='/favicon144.png'><link rel='apple-touch-icon'sizes='180x180'href='/favicon180.png'><meta name='mobile-web-app-capable'content='yes'><link rel='manifest'href='/site.webmanifest'><meta name='theme-color'content='#ffffff'><link rel='icon'type='image/png'href='/favicon48.png'sizes='48x48'><link content-type='text/css'href='/iotstyle.css'rel='stylesheet'defer='defer'><script src='/micro.js'defer='defer'></script><style>svg.setconfig{position:absolute;top:.5rem;right:.5rem;height:1.4rem;width:1.4rem;background-size:1.4rem}svg.fullscreen{position:absolute;top:.5rem;right:2.5rem;height:1.4rem;width:1.4rem;background-size:1.4rem}.panel,img{user-select:none}input:invalid,select:invalid{border-color:red}</style></head><body><div class='u-header'><h1>Board</h1></div><div class='u-navbar'><a href='/'>Home</a> <a href='/board.htm'>Board</a> <a href='/microide.htm'>IDE</a> <a href='/log.htm'>Log</a> <span class='gap'></span> <button id='sysButton'>sys</button> <button id='addButton'>+</button></div><main class='panel'></main><div id='u-templates'style='display:none'><div u-control='modal'u-is='modal'><div class='modalBack'u-action='close'></div><div class='modalFrame'class='modal-object'></div></div><div class='cHead block header'><svg class='icon'><use href='./icons.svg#${type}'/></svg><h3 u-text='title'></h3><h4 u-text='description'></h4><svg class='setconfig'><use href='./icons.svg#config'/></svg></div><div class='card'u-control='generic'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><div class='form-grid'><label>Value:</label><output u-text='value'></output></div></div></div><form method='dialog'class='card'u-control='schedule'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><span class='u-bool ux-value'u-active='value'style='top:2rem'></span><fieldset class='block btn-group'><legend>Mode</legend><label><input name='mode'u-value='mode'type='radio'value='off'>Off</label> <label><input name='mode'u-value='mode'type='radio'value='on'>On</label> <label><input name='mode'u-value='mode'type='radio'value='timer'>Timer</label></fieldset><div class='block'><div class='form-grid'><label>Start:</label><output u-text='ontime'></output><label>End:</label><output u-text='offtime'></output></div></div></form><div class='card'u-control='dstime'id='${id}'u-is='dstime'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><div class='form-grid'><label>ReadTime:</label><input u-value='readtime'type='time'step='1'> <label>Now:</label><output u-text='now'></output><label>set Time:</label><output class='now'></output></div><div class='block footer'><button style='float:right'>set</button></div></div></div><div class='card'u-control='switch'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><span class='u-bool ux-value border'u-active='value'></span><div u-is='input'><span class='down'>off</span> <input id='${id}O'class='switch'u-value='value'type='range'> <span class='up'>on</span></div></div></div><div class='card'u-control='value'id='${id}'u-is='value'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>value:</label> <span u-is='input'><input type='range'u-value='value'><output u-text='value'></output></span></div></div><div class='card'u-control='logic'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><span class='u-bool ux-value'u-active='value'></span><div class='form-grid'><label>value:</label><output u-text='value'></output></div></div></div><div class='card'u-control='select'id='${id}'u-is='select'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><select></select></div></div><div class='card'u-control='rfcodes'microid='${id}'u-is='generic'><div u-is='include'ref='.cHead'></div><div class='block Element'><div><label>Last Code:</label></div><pre>[<span u-text='value'style='user-select:text'></span>]</pre></div></div><div class='card'u-control='color'id='${id}'u-is='color'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>value:</label><output name='value'></output><label>color:</label><input type='color'name='color'> <label style='display:none'>white:</label><div style='display:none'><input type='range'max='255'name='white'><output name='white'></output></div><label>brightness:</label><div><input type='range'max='100'name='brightness'><output name='brightness'></output></div><label>duration:</label><div><input type='range'max='12000'step='100'name='duration'><output name='duration'></output></div></div><div class='block footer form-actions'><button u-action='mode'value='fade'>fade</button> <button u-action='mode'value='fix'>fix</button> <button u-action='mode'value='pulse'>pulse</button> <button u-action='mode'value='wheel'>wheel</button></div></div><div class='card'u-control='stripe'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>mode:</label><output u-text='mode'></output><label>duration:</label><div><input type='range'max='20000'step='100'u-value='duration'u-units='ms'><output u-value='duration'></output></div><label>Effect Length:</label><div><input type='range'max='255'u-value='effectlength'><output u-value='effectlength'></output></div></div><div class='block footer form-actions'><button u-action='mode'value='flow'>flow</button></div></div><div class='card'u-control='light'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><span u-color='value'class='border'style='width:4rem;height:4rem;float:right;border-radius:50%'></span><div class='form-grid'><label>value:</label><output u-text='value'></output><label>brightness:</label><output u-text='brightness'></output></div></div></div><div class='card'u-control='tm1637'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><div style='text-align:center'><span u-text='value'style='font-size:4rem;font-style:italic'></span></div><div class='form-grid'><label>brightness:</label><output u-text='brightness'></output></div></div></div><div class='card'u-control='ina2xx'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>Voltage:</label><output u-text='voltage'></output><label>Current:</label><output u-text='current'></output><label>Power:</label><output u-text='power'></output></div></div><div class='card'u-control='bl0937'id='${id}'u-is='bl0937'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block'><table style='width:100%;font-size:2rem'><tr><td><span u-text='power'></span> W</td><td style='display:none'><span u-text='current'></span> mA</td><td style='display:none'><span u-text='voltage'></span> V</td><td><span u-text='energy'></span> Wh</td></tr></table>mode: <button u-action='mode'value='current'>current</button> <button u-action='mode'value='voltage'>voltage</button></div></div><div class='card'u-control='radio'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>Frequency:</label> <span><output u-text='frequency'style='width:7ch'></output><button u-action='seek'value='0'>&lt;&lt;</button> <button u-action='seek'value='1'>&gt;&gt;</button> </span><label>RSSI:</label><output u-text='rssi'></output><label>SNR:</label><output u-text='snr'></output><label>station:</label><output u-text='stationname'></output></div><div class='block footer form-actions'><button u-action='frequency'value='9440'>hr1</button> <button u-action='frequency'value='8930'>hr3</button> <button u-action='frequency'value='10300'>AB</button> <button u-action='frequency'value='8840'>B2</button></div></div><div class='card'u-control='scene'microid='${id}'u-is='scene'><div class='cHead block header'><h3>Scenes</h3></div><div class='block form-actions'></div></div><div class='card'u-control='my'id='${id}'u-is='generic'microid='${id}'><div u-is='include'ref='.cHead'></div><div class='block form-grid'><label>Pin:</label><output u-text='pin'></output><label>Interval:</label><output u-text='interval'></output></div></div></div><script>window!==window.top&&(document.querySelector(".u-header").style.display="none",document.querySelector(".u-navbar").style.display="none");const uElements={defs:{},impl:[],env:{},config:{},state:{}};!function(){const e=4e3;var t,n=document.querySelector(".panel"),i=document.getElementById("addButton"),o=document.getElementById("sysButton"),a={sys:!1},s={dht:"air",sht20:"air",am2320:"air",scd4x:"air",bme680:"air",aht20:"air",bmp280:"air",digitalin:"digitalout",displayssd1306:"display",displaysh1106:"display",displayst7735:"display",displayst7789:"display",neo:"stripe",apa102:"stripe",my9291:"light",and:"logic",or:"logic",ina219:"ina2xx",ina226:"ina2xx"};async function l(){var e;return document.querySelector("dialog#addElement")||(e=fetch("./board-new.htm").then((e=>e.text())).then((e=>{document.body.appendChild(document.createRange().createContextualFragment(e)),document.querySelectorAll("[u-is]").forEach((e=>micro.attach(e)))}))),e}function c(){window.clearTimeout(t),d("/api/state").then((e=>hub.publishObj(e))).finally((()=>t=window.setTimeout(c,e)))}async function d(e,t){return fetch(e,t).then((e=>e.json()))}window.addEventListener("hashchange",(function(){window.location.reload()})),o.addEventListener("click",(function(e){a.sys=!toBool(a.sys),window.location.hash="sys="+a.sys})),i.addEventListener("click",(async function(e){await l(),DialogClass.openModalForm("addElement",{})})),window.updateState=function(){window.clearTimeout(t),t=window.setTimeout(c,200)};var u=d("/elements.json").then((e=>uElements.defs=e)),r=d("/env.json").then((e=>uElements.env=e)),m=d("/config.json").then((e=>uElements.config=e));d("/api/state").then((e=>uElements.state=e));window.addEventListener("DOMContentLoaded",(function(){a=getHashParams({sys:!1});var i=micro.loadFile("/board-templates.htm");hub.subscribe("/*/*",(function(e,t,i){if(e&&(e=e.toLowerCase(),!document.querySelector("[microID='"+e+"']"))){var o=e.split("/")[1],l={icon:o,id:e,type:o},c=uElements.defs[o];if(toBool(a.sys)||!c||0==toBool(c.sys)){c&&c.icon&&(l.icon=c.icon);var d=micro.insertTemplate(n,o,l);d||(o=s[o]||"generic",d=micro.insertTemplate(n,o,l))}}})),hub.subscribe("/device/*?name",(function(e,t,n){document.title=n,document.querySelector("meta[name=application-name]").content=n})),Promise.allSettled([i,u,r,m]).then((function(){uElements.env&&(hub.write("env",JSON.stringify(uElements.env)),hub.publishObj(uElements.env));const n=uElements.config;if(n){for(var i in n)for(var o in n[i])n[i][o].title||(n[i][o].title=i+"/"+o);hub.write("config",JSON.stringify(n)),hub.publishObj(n)}hub.publishObj(uElements.state),t=window.setTimeout(c,e),d("/api/elements").then((e=>uElements.impl=e)),l()}))}))}()</script></body></html>