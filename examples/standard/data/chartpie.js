var RAD_OUT=20;document.api={options:{},_panelObj:document.getElementById("panel"),_valuesObj:document.getElementById("values"),_piePoint:function(t,e){var i=_cPoint(t,e);return i.x+","+i.y},_addSlice:function(t,e,i,o,s){var n=2*Math.PI*t,a=2*Math.PI*(t+e),l=this.options,r="";r+="M"+this._piePoint(n,RAD_OUT),r+="A"+RAD_OUT+","+RAD_OUT,r+=e<.5?" 0 0 1 ":" 0 1 1 ",r+=this._piePoint(a,RAD_OUT),r+="L0,0Z";var c=createSVGNode(this._panelObj,"path",{class:"segment",style:"fill:"+i,d:r});if(l.showTitle||l.showValue||l.showPercentage){var h=[];l.showTitle&&h.push(String(s)),l.showValue&&h.push(Number(o).toLocaleString()),l.showPercentage&&h.push("("+Math.round(100*e)+"%)");var u=window.getComputedStyle(c).fill.match(/\d+/g).reduce((function(t,e){return t+Number(e)}),0)/3,d=_cPoint((n+a)/2,.7*RAD_OUT);createSVGNode(this._valuesObj,"text",{class:"text",style:"fill:"+(u>127?"black":"white"),x:d.x,y:d.y},h.join(" "))}},setOptions:function(t){if(this.options=Object.assign({},this.defaultOptions,t),t.colors){var e=t.colors;"string"==typeof e?this.options.colors=e.split(","):Array.isArray(e)&&(this.options.colors=[...e])}},add:function(){},draw:function(t){this.clear(),this.options=Object.assign(this.defaultOptions,this.options);var e=this.options.colors,i=this.options.colors.length;if(t){var o=t.reduce((function(t,e){return t+e.value}),0);t.reduce(function(t,s,n){var a=s.value/o,l=s.color||e[n%i]||"gray";return this._addSlice(t,a,l,s.value,s.title),t+a}.bind(this),0)}},clear:function(){_removeChilds(this._panelObj),_removeChilds(this._valuesObj)},defaultOptions:{showTitle:!1,showValue:!1,showPercentage:!1,colors:[]}};