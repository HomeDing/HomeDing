var RAD_OUT=20;document.api={options:{},_panelObj:document.getElementById("panel"),_valuesObj:document.getElementById("values"),_piePoint:function(t,e){e=_cPoint(t,e);return e.x+","+e.y},_addSlice:function(t,e,o,i,s){var n=2*Math.PI*t,l=2*Math.PI*(t+e),a=this.options,t="";t+="M"+this._piePoint(n,RAD_OUT),t+="A"+RAD_OUT+","+RAD_OUT,t+=e<.5?" 0 0 1 ":" 0 1 1 ",t+=this._piePoint(l,RAD_OUT),t+="L0,0Z";o=createSVGNode(this._panelObj,"path",{class:"segment",style:"fill:"+o,d:t});(a.showTitle||a.showValue||a.showPercentage)&&(t=[],a.showTitle&&t.push(String(s)),a.showValue&&t.push(Number(i).toLocaleString()),a.showPercentage&&t.push("("+Math.round(100*e)+"%)"),o=window.getComputedStyle(o).fill.match(/\d+/g).reduce(function(t,e){return t+Number(e)},0)/3,l=_cPoint((n+l)/2,.7*RAD_OUT),createSVGNode(this._valuesObj,"text",{class:"text",style:"fill:"+(127<o?"black":"white"),x:l.x,y:l.y},t.join(" ")))},setOptions:function(t){this.options=Object.assign({},this.defaultOptions,t),t.colors&&("string"==typeof(t=t.colors)?this.options.colors=t.split(","):Array.isArray(t)&&(this.options.colors=[...t]))},add:function(){},draw:function(t){this.clear(),this.options=Object.assign(this.defaultOptions,this.options);var s,n=this.options.colors,l=this.options.colors.length;t&&(s=t.reduce(function(t,e){return t+e.value},0),t.reduce(function(t,e,o){var i=e.value/s,o=e.color||n[o%l]||"gray";return this._addSlice(t,i,o,e.value,e.title),t+i}.bind(this),0))},clear:function(){_removeChilds(this._panelObj),_removeChilds(this._valuesObj)},defaultOptions:{showTitle:!1,showValue:!1,showPercentage:!1,colors:[]}};