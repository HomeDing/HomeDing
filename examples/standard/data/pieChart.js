var panelObj=document.getElementById("panel"),valuesObj=document.getElementById("values"),RAD_OUT=20;function _piePoint(e,t){t=_cPoint(e,t);return t.x+","+t.y}function _addPieSlice(e,t,o,n,l){var a=2*Math.PI*e,r=2*Math.PI*(e+t),i=document.api.options,e="";e+="M"+_piePoint(a,RAD_OUT),e+="A"+RAD_OUT+","+RAD_OUT,e+=t<.5?" 0 0 1 ":" 0 1 1 ",e+=_piePoint(r,RAD_OUT),e+="L0,0Z";o=createSVGNode(panelObj,"path",{class:"segment",style:"fill:"+o,d:e});(i.showTitle||i.showValue||i.showPercentage)&&(e=[],i.showTitle&&e.push(String(l)),i.showValue&&e.push(Number(n).toLocaleString()),i.showPercentage&&e.push("("+Math.round(100*t)+"%)"),o=window.getComputedStyle(o).fill.match(/\d+/g).reduce(function(e,t){return e+Number(t)},0)/3,r=_cPoint((a+r)/2,.7*RAD_OUT),createSVGNode(valuesObj,"text",{class:"text",style:"fill:"+(127<o?"black":"white"),x:r.x,y:r.y},e.join(" ")))}function _draw(e){_clear();var l,a=document.api._colors,r=document.api._colors.length;e&&(l=e.reduce(function(e,t){return e+t.value},0),e.reduce(function(e,t,o){var n=t.value/l;return _addPieSlice(e,n,t.color||a[o%r]||"gray",t.value,t.title),e+n},0))}function _setColors(e){"string"==typeof e?document.api._colors=e.split(","):Array.isArray(e)&&(document.api._colors=[...e])}function _clear(){_removeChilds(panelObj),_removeChilds(valuesObj)}document.api={clear:_clear,setOptions:_setOptions,setColors:_setColors,draw:_draw,options:{showPercentage:!1,showTitle:!1,showValue:!1},_colors:[]};